<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<mapper namespace="reviewMapper">

	<!-- 리뷰 작성 -->
	<insert id ="createReview" parameterType="member">
		INSERT INTO REVIEW VALUES(review_seq.nextval , #{userId}, LAUNDRY_SEQ.currval, #{reviewRate}, #{reviewContent}, systimestamp ,systimestamp)
	</insert> 
		
	<!-- 전체 리뷰 보기 -->
	<select id = "listAllReviewList" resultType="Long">
		select * from review
	</select>
	
	<!-- 회원이 작성한 리뷰 보기 -->
	<select id = "listUserReviewList" resultType="Long">
		select * from review where user_id=#{userId}
	</select>
	
	<!-- 아이디로 리뷰 검색 -->
	<select id="searchReviewByUserId" parameterType="Long">
		select * from review where user_id = #{_parameter}
	</select>
	
	<!-- 점포 아이디로 리뷰 검색 -->
	<select id="searchReviewByLaundryId" parameterType="Long">
		select * from review where laundry_id = #{_parameter}
	</select>
	
	<!-- 예약 번호로 리뷰 검색 -->
	<select id ="searchReviewByBookId" parameterType="Long">
		select * from review where book_id = #{_parameter}
	</select>
	
	<!-- 리뷰 번호로 리뷰 검색 -->
	<select id="searchReviewByReviewId">
		select * from review where review_id = #{_parameter}
	</select>

</mapper>